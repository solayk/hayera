<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AdminDAO">

	<select id="adminLogin" parameterType="admin" resultType="admin">
		<![CDATA[
		SELECT * FROM MANAGER WHERE MANAGER_ID = #{manager_id}
		]]>
	</select>

	<insert id="insertProduct" parameterType="product">
		<![CDATA[
		INSERT INTO PRODUCT(PROD_NO,PROD_NAME,BRAND,CATEGORY,PRICE,COST_PRICE,DISCOUNT_PRICE
		,CAPACITY,SCENT,SCENT_RATING,FEEL,FEEL_RATING,AVG_RATING,TOTALSALES,STOCK,IMG_URL,MANAGER_ID,PRODUCT_EXPLAIN) 
		VALUES (#{prod_no}, #{prod_name}, #{brand}, #{category}, #{price}, #{cost_price}, #{discount_price}
		, #{capacity}, #{scent}, 0, #{feel}, 0, 0, #{totalsales}, #{stock}, #{img_url}, 'admin', #{product_explain})
		]]>
	</insert>
	
	<select id="adminSearchProduct" parameterType="String" resultType="product">
		<![CDATA[
		SELECT * 
		FROM PRODUCT
		WHERE PROD_NAME LIKE '%'||#{value}||'%'
		]]>
	</select>
	
	<select id="adminEditTarget" parameterType="product" resultType="product">
		<![CDATA[
		SELECT * FROM PRODUCT WHERE PROD_NO = #{prod_no}
		]]>
	</select>
	
	<update id="adminEditProduct">
		<![CDATA[
		UPDATE PRODUCT SET PROD_NAME = #{prod_name}, BRAND = #{brand}, CATEGORY = #{category}, PRICE = #{price}, COST_PRICE = #{cost_price}
		, DISCOUNT_PRICE = #{discount_price}, CAPACITY = #{capacity}, SCENT = #{scent}, FEEL = #{feel}, PRODUCT_EXPLAIN = #{product_explain} WHERE PROD_NO = #{prod_no}
		]]>
	</update>
	
	<select id="adminRemoveProduct" parameterType="String">
		<![CDATA[
		DELETE 
		FROM PRODUCT
		WHERE PROD_NO = #{value}
		]]>
	</select>

</mapper>